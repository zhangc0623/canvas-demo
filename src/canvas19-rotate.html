<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="canvas" width="200" height="400"></canvas>
</body>
<script>
  let canvas = document.getElementById('canvas');
  let ctx = canvas.getContext('2d')
  let width = canvas.width
  let height = canvas.height
  let img = new Image()
  img.src = '../images/img.png'
  img.onload = function () {
      ctx.fillStyle = 'red'
      ctx.fillRect(0, 0, width, height)
      ctx.save()
      // 先位移坐标到中心
      ctx.translate(width / 2, height / 2)
      // 旋转90度
      ctx.rotate(90 * Math.PI / 180)

      // 此时按照旋转后的尺寸
      // 把定位中心移动到左上角
      ctx.translate(-1 * height / 2, -1 * width / 2);

      // 绘制图片
      ctx.drawImage(img, 0, 0, height, width)

      // 坐标系还原到初始
      ctx.setTransform(1, 0, 0, 1, 0, 0)
  }

</script>
</html>
